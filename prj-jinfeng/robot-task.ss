{"test":{"id":null,"name":"test","description":"test","httpApiList":[{"path":"/ext/test","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[]}],"transports":[{"refName":"","description":"test","category":"","seqGroup":"","stages":[{"refName":"","description":"test1","forRoute":true,"operation":"ForkLoad","location":"YPH-UP-01","properties":"[{\"key\":\"end_height\",\"value\":\"0.5\"}]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"test2","forRoute":true,"operation":"ForkUnload","location":"SB-PLACE-01","properties":"[{\"key\":\"end_height\",\"value\":\"0.3\"},{\"key\":\"start_height\",\"value\":\"0.1\"}]","maxRetries":null,"retryDelay":null,"components":[]}]}],"static":false,"parallel":false,"noTransport":false},"from-to":{"id":null,"name":"from-to","description":"from-to","httpApiList":[{"path":"/ext/AGV/TaskSend","method":"POST","reqDemoBody":"{\n    \"TaskId\":\"1\",\n    \"TaskType\":\"aaa\",\n    \"FromSite\":\"LK-OUT-01\",\n    \"ToSite\":\"LK-IN-01\",\n    \"RobotType\":\"Jack\"\n}","successResponseCode":201,"responseDecorator":"custom","components":[{"def":"SetLocationName","params":{"destination":"=from","value":"=httpBody.FromSite"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=to","value":"=httpBody.ToSite"},"returnName":null,"components":[]},{"def":"SetTaskExtraVariables","params":{"name":"param","value":"=httpBody"},"returnName":null,"components":[]},{"def":"SetOutOrderNo","params":{"outOrderNo":"=httpBody.TaskID"},"returnName":null,"components":[]},{"def":"SetOperation","params":{"destination":"=from","value":"=httpBody.RobotType"},"returnName":null,"components":[]},{"def":"SetOperation","params":{"destination":"=to","value":"=httpBody.RobotType"},"returnName":null,"components":[]},{"def":"SetTransportDeadline","params":{"transport":"=transportFrom"},"returnName":null,"components":[]},{"def":"SetTransportDeadline","params":{"transport":"=transportTo"},"returnName":null,"components":[]},{"def":"SetTransportDeadline","params":{"transport":"=transportWaitTo"},"returnName":null,"components":[]},{"def":"isSpecial","params":{},"returnName":null,"components":[]},{"def":"checkTask","params":{},"returnName":null,"components":[]}]}],"transports":[{"refName":"transportFrom","description":"起点取货","category":"","seqGroup":"transport","stages":[{"refName":"tellGF1","description":"上报","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"tellGF","params":{"state":"1"},"returnName":null,"components":[]}]},{"refName":"isSpecial","description":"终点是否是特殊库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"IfNot","params":{"value":"=toSiteIsSpecial"},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"1","reason":"终点不是特殊库位"},"returnName":null,"components":[]},{"def":"dealRelativeTask","params":{},"returnName":null,"components":[]}]}]},{"refName":"lockFrom","description":"锁定起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=from.location"},"returnName":null,"components":[]}]},{"refName":"lockToOrWaitTo","description":"锁定下一个库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"IfNot","params":{"value":"=toSiteIsSpecial"},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=to.location"},"returnName":null,"components":[]},{"def":"LockWaitSiteAndSetLocation","params":{"destination":"=waitTo","siteId":"=to.location"},"returnName":null,"components":[]}]}]},{"refName":"from","description":"起点取货","forRoute":true,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"releaseFrom","description":"释放起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=from.location"},"returnName":null,"components":[]},{"def":"If","params":{"value":"=toSiteIsSpecial"},"returnName":null,"components":[{"def":"dealRelativeTask","params":{},"returnName":null,"components":[]}]}]},{"refName":"tellGF2","description":"上报任务","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"tellGF","params":{"state":"2"},"returnName":null,"components":[]}]}]},{"refName":"transportWaitTo","description":"等待点等待","category":"","seqGroup":"transport","stages":[{"refName":"waitTo","description":"wait点等待","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"dealRelativeTask","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"等待关联任务执行完成","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"waitRelativeTaskFinish","params":{},"returnName":null,"components":[]}]},{"refName":"releaseWaitAndlockTo","description":"释放wait点并锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=waitTo.location"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=to.location"},"returnName":null,"components":[]}]}]},{"refName":"transportTo","description":"终点放货","category":"","seqGroup":"transport","stages":[{"refName":"to","description":"终点放货","forRoute":true,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"releaseTo","description":"释放终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=to.location"},"returnName":null,"components":[]}]},{"refName":"tellGF3","description":"上报任务","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"tellGF","params":{"state":"3"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false}}
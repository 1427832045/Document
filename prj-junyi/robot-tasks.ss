{"TaskDefFixModule":{"id":null,"name":"TaskDefFixModule","description":"模组固定#3","httpApiList":[{"path":"/task-by-operator/fix-module","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefFixModule"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-FixModule"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去光栅前置点","category":"","seqGroup":"passRaster2","stages":[{"refName":"","description":"通知模组入壳工位【放行】","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TellMesFixModuleAlreadyCalled","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"确认放行信号","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-LoadModule"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【模组入壳】还未放行，请检查库位【VIR-LoadModule】是否是未锁定状态！"},"returnName":null,"components":[]}]}]},{"refName":"","description":"判断任务执行条件是否满足","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleNotOnStoreSite","params":{"siteId":"C-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=from2","value":"T-B-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest2","value":"C-1"},"returnName":null,"components":[]}]},{"refName":"","description":"选择可用的机器人，并锁定起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"T-B-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定模组固定工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"C-1"},"returnName":null,"components":[]}]},{"refName":"from2","description":"顶升机构升起","forRoute":true,"operation":"JackLoad","location":"","properties":"[{\"key\": \"end_hight\", \"value\":\"0.2\"}]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"dest2","description":"去模组固定工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-LoadModule"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【模组入壳放行信号】失败，请检查库位【VIR-LoadModule】的状态"},"returnName":null,"components":[]}]}]},{"refName":"","description":"告知 MES 机器人已到达模组固定工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleAtLoadModuleNextPos","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"T-B-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"T-B-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"C-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"C-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefLoadHighVolCable":{"id":null,"name":"TaskDefLoadHighVolCable","description":"高压铜线安装#4","httpApiList":[{"path":"/task-by-operator/load-high-vol-cable","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefLoadHighVolCable"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-LoadHighVolCable"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去高压铜线安装工位","category":"","seqGroup":"LoadHighVolCable","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-FixModule"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【模组固定】还未放行"},"returnName":null,"components":[]}]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"D-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"D-1"},"returnName":null,"components":[]},{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"C-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"D-1"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去终点","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-FixModule"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【模组固定放行信号】失败"},"returnName":null,"components":[]}]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"C-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"C-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"D-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"D-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefLoadTopShell":{"id":null,"name":"TaskDefLoadTopShell","description":"上壳体安装#12","httpApiList":[{"path":"/task-by-operator/load-top-shell","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefLoadTopShell"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-LoadTopShell"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"H-1"},"returnName":null,"components":[]}]}],"transports":[{"refName":"","description":"上壳体安装","category":"","seqGroup":"loadTopShell","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"AssignVehicleAndLockItsLocation","params":{"siteType":"G-B"},"returnName":"fromSite","components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=dest","value":"H-1"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去上壳体安装工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefBatteryTest":{"id":null,"name":"TaskDefBatteryTest","description":"充放电测试#9","httpApiList":[{"path":"/task-by-operator/battery-test","method":"POST","reqDemoBody":"{\"menuId\": \"ReturnEmptyTray\", \"workType\": \"FixModule_LoadHighVolCable\", \"workStation\": \"FixModule_LoadHighVolCable\", \"params\": {\"destination\": \"G-1\"}}}","successResponseCode":201,"responseDecorator":"","components":[{"def":"TrimRequired","params":{"value":"=httpBody.params.destination","message":"请求中缺少充电测试工位的信息"},"returnName":"destination","components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"checkSiteContentBlank","params":{"siteId":"VIR-ToCharge"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在当前批次的充放电测试任务放行之后再呼叫。"},"returnName":null,"components":[]}]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"=destination"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"=\"库位【\"+ destination +\"】已经【呼叫】过了，请勿重复呼叫！\""},"returnName":null,"components":[]}]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckExistedStoreSiteById","params":{"siteId":"=destination"},"returnName":"toSite","components":[]},{"def":"ThrowToWait","params":{"reason":"=\"库位【\"+ destination +\"】不存在，请检查库位信息！\""},"returnName":null,"components":[]}]},{"def":"SetLocationName","params":{"destination":"=dest","value":"=destination"},"returnName":null,"components":[]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"=destination"},"returnName":null,"components":[]}]}],"transports":[{"refName":"","description":"去充电测试工位","category":"","seqGroup":"batteryTest","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"AssignVehicleAndLockItsLocation","params":{"siteType":"G-A"},"returnName":"fromSite","components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去充电测试工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefTakeBattery":{"id":null,"name":"TaskDefTakeBattery","description":"从充放电测试工位领走电池#11.sub","httpApiList":[],"transports":[{"refName":"","description":"返回充放电测试工位","category":"","seqGroup":"TakeBattery","stages":[{"refName":"","description":"起点是否存在机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleOnStoreSite","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定起点，并指定机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=g","value":"=task.persistedVariables.toSiteG"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=g.location"},"returnName":null,"components":[]}]},{"refName":"g","description":"顶升机构升起","forRoute":true,"operation":"JackLoad","location":"","properties":"[{\"key\":\"end_height\", \"value\":\"0.2\"}]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]}]},{"refName":"","description":"上壳体安装等待区","category":"","seqGroup":"TakeBattery","stages":[{"refName":"","description":"选择等待区域可用空库位(G-B)","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SelectAndLockAvailableSiteFromArea_GA","params":{"siteType":"G-B"},"returnName":"toSite","components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"=task.persistedVariables.toSite"},"returnName":null,"components":[]},{"def":"SetSiteContent","params":{"siteId":"=g.location","content":"=\"\""},"returnName":null,"components":[]}]},{"refName":"","description":"是否有机器人需要经过当前任务的终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"CheckFormerSiteUnlocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去终点等待","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"markCurrTakeBatteryFinished","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解除占用充放电测试工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=g.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁充放电测试工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=g.location"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefAirTightnessTest":{"id":null,"name":"TaskDefAirTightnessTest","description":"气密性检测#14","httpApiList":[{"path":"/task-by-operator/air-tightness-test","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefAirTightnessTest"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-AirTightnessTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去光栅前置点","category":"","seqGroup":"airTightnessTest","stages":[{"refName":"","description":"通知螺丝紧固工位【放行】","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TellMesAirTightnessAlreadyCalled","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"确认放行信号","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-FixScrew"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【螺丝紧固】还未放行"},"returnName":null,"components":[]}]}]},{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"T-I-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=from4","value":"T-I-1"},"returnName":null,"components":[]}]},{"refName":"","description":"判断终点是否可用","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleNotOnStoreSite","params":{"siteId":"J-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest4","value":"J-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定气密性检测工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"J-1"},"returnName":null,"components":[]}]},{"refName":"from4","description":"顶升机构升起","forRoute":true,"operation":"JackLoad","location":"","properties":"[{\"key\": \"end_hight\", \"value\":\"0.3\"}]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"dest4","description":"去气密性检测工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-FixScrew"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【螺丝紧固放行信号】失败！"},"returnName":null,"components":[]}]}]},{"refName":"","description":"告知 MES 机器人到达气密性检测工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleAtFixScrewNextPos","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=from4.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=from4.location"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest4.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest4.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefBoardMaintainFinished":{"id":null,"name":"TaskDefBoardMaintainFinished","description":"水冷板返修完成#6-1","httpApiList":[{"path":"/task-by-operator/board-maintain-finished","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefBoardMaintainFinished"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefBoardTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【水冷板测试】任务还未完成，请检查任务状态！"},"returnName":null,"components":[]}]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-BoardTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"水冷板测试工位还未【放行】，请在其【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]},{"def":"VehicleOnStoreSite","params":{"siteId":"T-E-1"},"returnName":null,"components":[]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"E-1"},"returnName":null,"components":[]}]}],"transports":[{"refName":"","description":"去水冷板检测工位","category":"","seqGroup":"","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"T-E-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"E-1"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"锁定库位【E-1】失败，请检查库位状态！"},"returnName":null,"components":[]}]},{"def":"SetSiteContent","params":{"siteId":"VIR-BoardMaintain","content":"=\"\""},"returnName":null,"components":[]}]},{"refName":"dest","description":"去水冷板检测工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"T-E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"T-E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"E-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefLoadModule":{"id":null,"name":"TaskDefLoadModule","description":"模组入壳#2","httpApiList":[{"path":"/ext/load-module","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefLoadModule"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-LoadModule"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去光栅前置点","category":"","seqGroup":"passRaster1","stages":[{"refName":"","description":"判断执行条件是否满足","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-LoadBottomShell"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【下壳体上线】未放行！"},"returnName":null,"components":[]}]},{"def":"VehicleOnStoreSite","params":{"siteId":"A-2"},"returnName":null,"components":[]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"T-B-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"T-B-1"},"returnName":null,"components":[]}]},{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"A-2"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定模组入壳工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"T-B-1"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去模组入壳工位","forRoute":true,"operation":"JackUnload","location":"","properties":"[{\"key\":\"end_height\",\"value\":\"0.1\"}]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-LoadBottomShell"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【下壳体上线放行】信号失败，请确认库位【VIR-LoadBottomShell】是否被锁定！"},"returnName":null,"components":[]}]}]},{"refName":"","description":"告知 MES 机器人就位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleAtLoadModulePos","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"A-2"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"A-2"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"T-B-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"T-B-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefPopupTaskGA-Simple":{"id":null,"name":"TaskDefPopupTaskGA-Simple","description":"GA区域的自动补位任务-简","httpApiList":[],"transports":[{"refName":"","description":"向前补位","category":"","seqGroup":"popup","stages":[{"refName":"","description":"指定任务的终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=dest","value":"=task.persistedVariables.toSiteId"},"returnName":null,"components":[]}]},{"refName":"dest","description":"在终点等待","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=task.persistedVariables.fromSiteId"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.persistedVariables.fromSiteId"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"=\"解锁库位【\"+ task.persistedVariables.fromSiteId +\"】失败，请检查库位状态！\""},"returnName":null,"components":[]}]}]},{"refName":"","description":"占用终点库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点库位","forRoute":false,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"=\"解锁库位【\"+ dest.location +\"】失败，请检查库位状态！\""},"returnName":null,"components":[]}]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefPack":{"id":null,"name":"TaskDefPack","description":"PACK下线#15","httpApiList":[{"path":"/task-by-operator/pack","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefPack"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-PACK"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"PACK下线","category":"","seqGroup":"pack","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-AirTightnessTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【气密性检测】还未放行"},"returnName":null,"components":[]}]},{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"J-1"},"returnName":null,"components":[]}]},{"refName":"","description":"判断终点是否可用","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleNotOnStoreSite","params":{"siteId":"K-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"K-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定终点库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去PACK下线工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-AirTightnessTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【气密性检测放行信号】失败"},"returnName":null,"components":[]}]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"J-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"J-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefAGVDoCharge":{"id":null,"name":"TaskDefAGVDoCharge","description":"AGV去充电#10.sub","httpApiList":[],"transports":[{"refName":"","description":"AGV去充电","category":"","seqGroup":"","stages":[{"refName":"","description":"选择机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"=task.persistedVariables.siteId"},"returnName":null,"components":[]},{"def":"SelectCPByGSite","params":{"gSiteId":"=task.persistedVariables.siteId"},"returnName":"chargeSiteId","components":[]},{"def":"SetLocationName","params":{"destination":"=from","value":"=task.persistedVariables.siteId"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=chargeDest","value":"=chargeSiteId"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定充电位置","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleNotOnStoreSite","params":{"siteId":"=chargeDest.location"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=chargeDest.location"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"=\"锁定充电库位【\" + chargeDest.location+ \"】失败，请检查终点库位状态是否只是被占用\""},"returnName":null,"components":[]}]}]},{"refName":"from","description":"顶升机构下降","forRoute":true,"operation":"JackUnload","location":"","properties":"[{\"key\":\"end_height\",\"value\":\"0.1\"}]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"chargeDest","description":"AGV去充电","forRoute":true,"operation":"CHARGE","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"markCurrAGVDoChargeFinished","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.persistedVariables.siteId"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=chargeDest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=chargeDest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefPopupTaskGA-Complex":{"id":null,"name":"TaskDefPopupTaskGA-Complex","description":"GA区域的自动补位任务-繁","httpApiList":[],"transports":[{"refName":"","description":"去起点下一个工作站","category":"","seqGroup":"popup","stages":[{"refName":"","description":"指定工作站","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=next","value":"=task.persistedVariables.next"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"=task.persistedVariables.toSiteId"},"returnName":null,"components":[]}]},{"refName":"next","description":"解除占用起点","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=task.persistedVariables.fromSiteId"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.persistedVariables.fromSiteId"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"=\"解锁库位【\"+ task.persistedVariables.fromSiteId +\"】失败，请检查库位状态！\""},"returnName":null,"components":[]}]}]}]},{"refName":"","description":"去终点","category":"","seqGroup":"popup","stages":[{"refName":"dest","description":"在终点等待","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点库位","forRoute":false,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"=\"解锁库位【\"+ dest.location +\"】失败，请检查库位状态！\""},"returnName":null,"components":[]}]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefTakeBatteryForce":{"id":null,"name":"TaskDefTakeBatteryForce","description":"从充放电测试工位领走电池【强制】#11.sub","httpApiList":[],"transports":[{"refName":"","description":"充放电测试工位强制放行","category":"","seqGroup":"takeBatteryForce","stages":[{"refName":"","description":"起点是否存在机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleOnStoreSite","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定起点G","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=g","value":"=task.persistedVariables.fromSite"},"returnName":null,"components":[]}]},{"refName":"","description":"选择等待区域可用空库位(G-B)","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SelectAndLockAvailableSiteFromArea_GA","params":{"siteType":"G-B"},"returnName":"toSite","components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"=task.persistedVariables.toSite"},"returnName":null,"components":[]}]},{"refName":"","description":"是否有机器人需要经过当前任务的终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"CheckFormerSiteUnlocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"g","description":"顶升机构升起","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetSiteContent","params":{"siteId":"=g.location","content":"=\"\""},"returnName":null,"components":[]}]},{"refName":"dest","description":"去等待区域","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"markCurrTakeBatteryFinished","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解除占用充放电测试工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=g.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁充放电测试工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=g.location"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefLoadWire":{"id":null,"name":"TaskDefLoadWire","description":"线束安装#7","httpApiList":[{"path":"/task-by-operator/load-wire","method":"POST","reqDemoBody":"{\"menuId\": \"ReturnEmptyTray\", \"workType\": \"LoadWire\", \"workStation\": \"LoadWire\", \"params\": {}}","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefLoadWire"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-LoadWire"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"线束安装","category":"","seqGroup":"","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-BoardTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【水冷板检测】还未放行"},"returnName":null,"components":[]}]},{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"E-1"},"returnName":null,"components":[]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"F-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"F-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"F-1"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去线束安装工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-BoardTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【水冷板测试放行信号】失败"},"returnName":null,"components":[]}]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"F-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"F-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefLoadBottomShell":{"id":null,"name":"TaskDefLoadBottomShell","description":"下壳体上线#1","httpApiList":[{"path":"/task-by-operator/load-bottom-shell","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefLoadBottomShell"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-LoadBottomShell"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去前置点","category":"","seqGroup":"loadBottomShell","stages":[{"refName":"setVehicle","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckStoreSiteEmpty","params":{"siteId":"A-1"},"returnName":"site1","components":[]},{"def":"ThrowToWait","params":{"reason":"【A-1】被占用，不满足任务执行条件！"},"returnName":null,"components":[]}]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckStoreSiteEmpty","params":{"siteId":"A-2"},"returnName":"site2","components":[]},{"def":"ThrowToWait","params":{"reason":"【A-2】被占用，不满足任务执行条件！"},"returnName":null,"components":[]}]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"A-1"},"returnName":null,"components":[]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"A-2"},"returnName":null,"components":[]}]},{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"L-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定A-1","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"A-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定A-2","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"A-2"},"returnName":null,"components":[]}]},{"refName":"","description":"去终点","forRoute":true,"operation":"Wait","location":"A-1","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"释放起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"L-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"L-1"},"returnName":null,"components":[]}]},{"refName":"","description":"释放终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"A-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"A-1"},"returnName":null,"components":[]}]}]},{"refName":"","description":"去后置点","category":"","seqGroup":"loadBottomShell","stages":[{"refName":"","description":"分配资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-LoadBottomShellNext"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"等待【下一步】信号"},"returnName":null,"components":[]}]},{"def":"VehicleOnStoreSite","params":{"siteId":"A-1"},"returnName":null,"components":[]}]},{"refName":"","description":"去终点","forRoute":true,"operation":"Wait","location":"A-2","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-LoadBottomShellNext"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【下一步】信号失败，请确认库位【VIR-LoadBottomShellNext】的是否已锁定！"},"returnName":null,"components":[]}]}]},{"refName":"","description":"释放起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"A-1"},"returnName":null,"components":[]}]},{"refName":"","description":"释放终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"A-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"A-2"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefLoadWireFinished":{"id":null,"name":"TaskDefLoadWireFinished","description":"线束安装完成#8","httpApiList":[{"path":"/task-by-operator/load-wire-finished","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefLoadWireFinished"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"VIR-LoadWire"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"此工位之前的放行信号还未被清空，请检查上一条同类型任务的状态"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"线束安装任务放行","category":"","seqGroup":"","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefLoadWire"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【线束安装】任务未结束"},"returnName":null,"components":[]}]},{"def":"SetSiteContent","params":{"siteId":"VIR-LoadWire","content":"=\"\""},"returnName":null,"components":[]},{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"F-1"},"returnName":null,"components":[]}]},{"refName":"","description":"分配终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SelectAndLockAvailableSiteFromArea_GA","params":{"siteType":"G-A"},"returnName":"toSiteId","components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"=toSiteId"},"returnName":null,"components":[]},{"def":"SetSiteContent","params":{"siteId":"VIR-LoadWire","content":"=\"\""},"returnName":null,"components":[]}]},{"refName":"dest","description":"去终点","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-LoadWire"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【线束安装放行信号】失败"},"returnName":null,"components":[]}]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"F-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"F-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefBatteryTestFinished":{"id":null,"name":"TaskDefBatteryTestFinished","description":"充放电测试结束#11","httpApiList":[{"path":"/task-by-operator/battery-test-finished","method":"POST","reqDemoBody":"// 这个接口只是用来批量创建从充放电测试工位领走料架的任务的\n{\"menuId\": \"BatteryTest-Finished\", \"params\": {\"force\": \"true\"}, \"workStation\": \"BatteryTest-WS\", \"workType\": \"BatteryTest\"}","successResponseCode":201,"responseDecorator":"","components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefAGVDoCharge"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"有机器人正在前往充电位置，请在【AGV充电】全部结束之后再【放行】！"},"returnName":null,"components":[]}]},{"def":"TrimRequired","params":{"value":"=httpBody.params.force","message":"缺少参数，无法识别是否是【强制放行】。"},"returnName":"force","components":[]},{"def":"CreateTakeBatteryTasks","params":{"force":"=force"},"returnName":null,"components":[]}]}],"transports":[],"static":false,"parallel":false,"noTransport":false},"TaskDefFixScrew":{"id":null,"name":"TaskDefFixScrew","description":"螺丝紧固#13","httpApiList":[{"path":"/ext/fix-screw","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefFixScrew"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-FixScrew"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去光栅前置点","category":"","seqGroup":"passRaster3","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-LoadTopShell"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【上壳体安装】还未放行"},"returnName":null,"components":[]}]},{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"H-1"},"returnName":null,"components":[]}]},{"refName":"","description":"判断终点是否可用","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleNotOnStoreSite","params":{"siteId":"T-I-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest3","value":"T-I-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定螺丝紧固工位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"T-I-1"},"returnName":null,"components":[]}]},{"refName":"dest3","description":"去前置点","forRoute":true,"operation":"JackUnload","location":"","properties":"[{\"key\":\"end_height\", \" value\":\"0.2\"}]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-LoadTopShell"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【上壳体安装放行】信号失败！"},"returnName":null,"components":[]}]}]},{"refName":"","description":"告知 MES 机器人就位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleAtFixScrewPos","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"H-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"H-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"T-I-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"T-I-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefCreateAGVDoCharge":{"id":null,"name":"TaskDefCreateAGVDoCharge","description":"批量创建AGV充电任务#10","httpApiList":[{"path":"/task-by-operator/create-agv-do-charge","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefBatteryTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"存在未完成的【呼叫】任务，请在所有【呼叫】任务结束之后再发起【AGV充电】请求！"},"returnName":null,"components":[]}]},{"def":"CreateAGVDoChargeTasks","params":{},"returnName":null,"components":[]}]}],"transports":[],"static":false,"parallel":false,"noTransport":false},"TaskDefPackFinished":{"id":null,"name":"TaskDefPackFinished","description":"PACK下线完成16","httpApiList":[{"path":"/task-by-operator/pack-finished","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefPackFinished"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"VIR-PACK"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"此工位之前的放行信号还未被清空，请检查上一条同类型任务的状态"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去初始库位等待区域的工位","category":"","seqGroup":"pack-finished","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"K-1"},"returnName":null,"components":[]}]},{"refName":"","description":"判断终点是否可用","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"VehicleNotOnStoreSite","params":{"siteId":"L-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"L-1"},"returnName":null,"components":[]},{"def":"SetSiteContent","params":{"siteId":"VIR-PACK","content":"=\"\""},"returnName":null,"components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去终点","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-PACK"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【PACK下线放行信号】失败"},"returnName":null,"components":[]}]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"K-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"K-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=dest.location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefBoardMaintain":{"id":null,"name":"TaskDefBoardMaintain","description":"水冷板返修#6","httpApiList":[{"path":"/task-by-operator/board-maintain","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefBoardMaintain"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-BoardMaintain"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在水冷板返修【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefBoardTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【水冷板测试】任务还未完成，请检查任务状态！"},"returnName":null,"components":[]}]},{"def":"VehicleOnStoreSite","params":{"siteId":"E-1"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"VehicleNotOnStoreSite","params":{"siteId":"T-E-1"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"水冷板返修工位【T-E-1】存在机器人，请在水冷板测试放行之后再发起此任务"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"水冷板返修","category":"","seqGroup":"","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"E-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"T-E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"T-E-1"},"returnName":null,"components":[]},{"def":"SetSiteContent","params":{"siteId":"VIR-BoardTest","content":"=\"\""},"returnName":null,"components":[]}]},{"refName":"dest","description":"去水冷板返修工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"释放起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"E-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"释放终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"T-E-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"T-E-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"TaskDefBoardTest":{"id":null,"name":"TaskDefBoardTest","description":"水冷板检测#5","httpApiList":[{"path":"/task-by-operator/board-test","method":"POST","reqDemoBody":"{\"menuId\": \"ReturnEmptyTray\", \"workType\": \"FixModule_LoadHighVolCable\", \"workStation\": \"FixModule_LoadHighVolCable\", \"params\": {\"destination\": \"G-1\"}}}","successResponseCode":201,"responseDecorator":"","components":[{"def":"OnlyOneNotFinishedTaskOfSameDef","params":{"taskDef":"TaskDefBoardTest"},"returnName":null,"components":[]},{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"RecordTaskIdIntoEmptyContentSite","params":{"siteId":"VIR-BoardTest"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"请在【放行】之后再【呼叫】！"},"returnName":null,"components":[]}]}]}],"transports":[{"refName":"","description":"去水冷板检测工位","category":"","seqGroup":"","stages":[{"refName":"","description":"选择可用的机器人","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"CheckSignal","params":{"signalId":"VIR-LoadHighVolCable"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"【高压铜线安装】还未放行"},"returnName":null,"components":[]}]},{"def":"LockFromSiteAndAssignVehicle","params":{"fromLoc":"D-1"},"returnName":null,"components":[]},{"def":"VehicleNotOnStoreSite","params":{"siteId":"E-1"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=dest","value":"E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"E-1"},"returnName":null,"components":[]}]},{"refName":"dest","description":"去水冷板检测工位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"TryCatch","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"VIR-LoadHighVolCable"},"returnName":null,"components":[]},{"def":"ThrowToWait","params":{"reason":"清空【高压铜线安装放行信号】失败"},"returnName":null,"components":[]}]}]},{"refName":"","description":"解除占用起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"D-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁起点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"D-1"},"returnName":null,"components":[]}]},{"refName":"","description":"占用终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"E-1"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁终点","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"E-1"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false}}
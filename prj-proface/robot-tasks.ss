{"transfer":{"id":null,"name":"transfer","description":"物料运输","httpApiList":[{"path":"/task-by-operator/transfer","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"TrimRequired","params":{"value":"=httpBody.params.from","message":"请选择目标产线库位！"},"returnName":"f","components":[]},{"def":"SetTaskExtraVariables","params":{"name":"from","value":"=f"},"returnName":null,"components":[]}]}],"transports":[{"refName":"","description":"空托盘运输","category":"","seqGroup":"transfer","stages":[{"refName":"","description":"检索资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SchneiderWuXi:findOneSite","params":{"filled":"0","type":"receive"},"returnName":"rec","components":[]},{"def":"SchneiderWuXi:findOneSite","params":{"filled":"1","type":"send"},"returnName":"send","components":[]},{"def":"SetLocationName","params":{"destination":"=task.transports[0].stages[3]","value":"=from"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=task.transports[0].stages[4]","value":"=rec.id"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=task.transports[1].stages[0]","value":"=send.id"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=task.transports[1].stages[1]","value":"=from"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定空托盘","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=task.transports[0].stages[4].location"},"returnName":null,"components":[]}]},{"refName":"","description":"锁定满托盘","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"=task.transports[1].stages[0].location"},"returnName":null,"components":[]}]},{"refName":"","description":"到产线取空托盘","forRoute":true,"operation":"JackLoad","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"送空托盘","forRoute":true,"operation":"JackUnload","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteNotIdle","params":{"siteId":"=task.transports[0].stages[4].location"},"returnName":null,"components":[]}]}]},{"refName":"","description":"满托盘运输","category":"","seqGroup":"transfer","stages":[{"refName":"","description":"取满托盘","forRoute":true,"operation":"JackLoad","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"MarkSiteIdle","params":{"siteId":"=task.transports[1].stages[0].location"},"returnName":null,"components":[]}]},{"refName":"","description":"送满托盘到产线","forRoute":true,"operation":"JackUnload","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"解锁库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.transports[0].stages[4].location"},"returnName":null,"components":[]}]},{"refName":"","description":"解锁库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"=task.transports[1].stages[0].location"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"updateSite":{"id":null,"name":"updateSite","description":"更新库位","httpApiList":[{"path":"/task-by-operator/updateSite","method":"POST","reqDemoBody":"","successResponseCode":201,"responseDecorator":"","components":[{"def":"TrimRequired","params":{"value":"=httpBody.params.siteId","message":"库位名称不能为空"},"returnName":"siteId","components":[]},{"def":"TrimRequired","params":{"value":"=httpBody.params.type","message":"更新类型不能为空"},"returnName":"type","components":[]},{"def":"SchneiderWuXi:updateSite","params":{"site":"=siteId","type":"=type"},"returnName":null,"components":[]}]}],"transports":[],"static":false,"parallel":false,"noTransport":true}}
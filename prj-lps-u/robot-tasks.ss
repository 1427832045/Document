{"DownTask2":{"id":null,"name":"DownTask2","description":"下料","httpApiList":[],"transports":[{"refName":"","description":"检查","category":"","seqGroup":"down","stages":[{"refName":"","description":"检查","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"If","params":{"value":"=column==\"A\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"5","reason":"到A侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"6","reason":"到A侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"7","reason":"到A侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"8","reason":"到A侧"},"returnName":null,"components":[]}]}]},{"def":"If","params":{"value":"=column==\"B\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"1","reason":"到B侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"2","reason":"到B侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"3","reason":"到B侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"4","reason":"到B侧"},"returnName":null,"components":[]}]}]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-OUT\""},"returnName":null,"components":[]}]},{"refName":"","description":"到达下料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canTakeFromLine","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=canDown == 0"},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"2","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"3","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"4","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"取料","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-OUT\""},"returnName":null,"components":[]}]},{"refName":"","description":"取料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"2"},"returnName":null,"components":[]},{"def":"takeFromLine","params":{"num":"2"},"returnName":null,"components":[]},{"def":"canPutOnCar","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=carNum != \"0\""},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"3","reason":"有位置可以放"},"returnName":null,"components":[]}]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"等待","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"等待","forRoute":true,"operation":"Wait","location":"WAIT","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canPutOnCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"到A侧","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-DOWN-\"+carNum + \"-A\""},"returnName":null,"components":[]}]},{"refName":"","description":"放料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"A"},"returnName":null,"components":[]},{"def":"putOnCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-OUT\""},"returnName":null,"components":[]}]},{"refName":"","description":"到下料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canTakeFromLine","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=canDown == 0"},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"6","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"7","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"8","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"取料","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"","value":""},"returnName":null,"components":[]}]},{"refName":"","description":"取料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"2"},"returnName":null,"components":[]},{"def":"takeFromLine","params":{"num":"2"},"returnName":null,"components":[]},{"def":"canPutOnCar","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=carNum != \"0\""},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"7","reason":"有可用位置"},"returnName":null,"components":[]}]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"等待点","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"等待点","forRoute":true,"operation":"Wait","location":"WAIT","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canPutOnCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"到B侧","category":"","seqGroup":"down","stages":[{"refName":"","description":"检查","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-DOWN-\"+carNum + \"-B\""},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"B"},"returnName":null,"components":[]},{"def":"putOnCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"recognize":{"id":null,"name":"recognize","description":"OCR识别","httpApiList":[],"transports":[{"refName":"","description":"资源检查","category":"","seqGroup":"recognize","stages":[{"refName":"","description":"检查","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"If","params":{"value":"=categoryA== \"\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"1","reason":"A侧不需要识别"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]}]}]},{"def":"If","params":{"value":"=categoryB == \"\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"2","reason":"B侧不需要识别"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]}]}]},{"def":"SetLocationName","params":{"destination":"=task.transports[1].stages[1]","value":"=\"CART-UP-\"+carNum+\"-RA\""},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=task.transports[2].stages[1]","value":"=\"CART-UP-\"+carNum+\"-RB\""},"returnName":null,"components":[]},{"def":"If","params":{"value":"=categoryA != \"\" && categoryB != \"\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]}]}]}]}]},{"refName":"","description":"识别A侧","category":"","seqGroup":"recognize","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"到达A侧","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"A"},"returnName":null,"components":[]},{"def":"getData","params":{},"returnName":null,"components":[]},{"def":"updateSites","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]}]}]},{"refName":"","description":"识别B侧","category":"","seqGroup":"recognize","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"到达B侧","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"B"},"returnName":null,"components":[]},{"def":"getData","params":{},"returnName":null,"components":[]},{"def":"updateSites","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"DownTask":{"id":null,"name":"DownTask","description":"下料","httpApiList":[],"transports":[{"refName":"","description":"检查","category":"","seqGroup":"down","stages":[{"refName":"","description":"检查","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"If","params":{"value":"=column==\"A\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"5","reason":"到A侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"6","reason":"到A侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"7","reason":"到A侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"8","reason":"到A侧"},"returnName":null,"components":[]}]}]},{"def":"If","params":{"value":"=column==\"B\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"1","reason":"到B侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"2","reason":"到B侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"3","reason":"到B侧"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"4","reason":"到B侧"},"returnName":null,"components":[]}]}]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-OUT\""},"returnName":null,"components":[]}]},{"refName":"","description":"到达下料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canTakeFromLine","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=canDown == 0"},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"2","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"3","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"4","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]}]},{"refName":"","description":"取料","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-OUT\""},"returnName":null,"components":[]}]},{"refName":"","description":"取料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"2"},"returnName":null,"components":[]},{"def":"takeFromLine","params":{"num":"2"},"returnName":null,"components":[]},{"def":"canPutOnCar","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=carNum != \"0\""},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"3","reason":"有位置可以放"},"returnName":null,"components":[]}]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"等待","category":"","seqGroup":"down","stages":[{"refName":"","description":"等待","forRoute":true,"operation":"Wait","location":"WAIT","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canPutOnCar","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"到A侧","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-DOWN-\"+carNum + \"-A\""},"returnName":null,"components":[]}]},{"refName":"","description":"放料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"A"},"returnName":null,"components":[]},{"def":"putOnCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解锁库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-OUT\""},"returnName":null,"components":[]}]},{"refName":"","description":"到下料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canTakeFromLine","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=canDown == 0"},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"6","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"7","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"8","reason":"下料口不满足"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]}]},{"refName":"","description":"取料","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-OUT\""},"returnName":null,"components":[]}]},{"refName":"","description":"取料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"2"},"returnName":null,"components":[]},{"def":"takeFromLine","params":{"num":"2"},"returnName":null,"components":[]},{"def":"canPutOnCar","params":{},"returnName":null,"components":[]},{"def":"If","params":{"value":"=carNum != \"0\""},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"7","reason":"有可用位置"},"returnName":null,"components":[]}]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"等待点","category":"","seqGroup":"down","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]},{"refName":"","description":"等待点","forRoute":true,"operation":"Wait","location":"WAIT","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canPutOnCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[]}]},{"refName":"","description":"到B侧","category":"","seqGroup":"down","stages":[{"refName":"","description":"检查","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-DOWN-\"+carNum + \"-B\""},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"B"},"returnName":null,"components":[]},{"def":"putOnCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"解锁库位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"UpTask":{"id":null,"name":"UpTask","description":"上料","httpApiList":[],"transports":[{"refName":"","description":"运单检查","category":"","seqGroup":"up","stages":[{"refName":"","description":"资源分配","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"If","params":{"value":"=column==\"A\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"3","reason":"B侧未指定"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"4","reason":"B侧未指定"},"returnName":null,"components":[]}]}]},{"def":"If","params":{"value":"=column==\"B\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"1","reason":"A侧未指定"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"2","reason":"A侧未指定"},"returnName":null,"components":[]}]}]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到上料车A取料","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-UP-\"+ carNum +\"-\"+column"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[2]","value":"=\"CART-UP-\"+ carNum +\"-\"+column"},"returnName":null,"components":[]}]},{"refName":"","description":"到A侧","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"A"},"returnName":null,"components":[]}]},{"refName":"","description":"从a侧取料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"takeFromUpCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线上料口","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[2]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[3]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]}]},{"refName":"","description":"到达上料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"1"},"returnName":null,"components":[]}]},{"refName":"","description":"放料前检查","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canPutOnMachine","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"放料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"putOnline","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到上料车B侧","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-UP-\"+ carNum +\"-\"+column"},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[2]","value":"=\"CART-UP-\"+ carNum +\"-\"+column"},"returnName":null,"components":[]}]},{"refName":"","description":"到B侧","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"B"},"returnName":null,"components":[]}]},{"refName":"","description":"从上料车取料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"takeFromUpCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线上料口","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[2]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[3]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]}]},{"refName":"","description":"到达上料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"1"},"returnName":null,"components":[]}]},{"refName":"","description":"放料前检查","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"canPutOnMachine","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"放料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"putOnline","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false},"UpTask2":{"id":null,"name":"UpTask2","description":"上料","httpApiList":[],"transports":[{"refName":"","description":"运单检查","category":"","seqGroup":"up","stages":[{"refName":"","description":"资源分配","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"If","params":{"value":"=column==\"A\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"3","reason":"B侧未指定"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"4","reason":"B侧未指定"},"returnName":null,"components":[]}]}]},{"def":"If","params":{"value":"=column==\"B\""},"returnName":null,"components":[{"def":"CodeBlock","params":{},"returnName":null,"components":[{"def":"SkipTransport","params":{"transportIndex":"1","reason":"A侧未指定"},"returnName":null,"components":[]},{"def":"SkipTransport","params":{"transportIndex":"2","reason":"A侧未指定"},"returnName":null,"components":[]}]}]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"LockSiteOnlyIfNotLock","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到上料车A取料","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-UP-\"+ carNum +\"-\"+column"},"returnName":null,"components":[]},{"def":"urge-reset","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"到A侧","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"A"},"returnName":null,"components":[]},{"def":"takeFromUpCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线上料口","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]}]},{"refName":"","description":"到达上料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"1"},"returnName":null,"components":[]},{"def":"canPutOnMachine","params":{},"returnName":null,"components":[]},{"def":"putOnline","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]},{"refName":"","description":"到上料车B侧","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=\"CART-UP-\"+ carNum +\"-\"+column"},"returnName":null,"components":[]}]},{"refName":"","description":"到B侧取料","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path","params":{"column":"B"},"returnName":null,"components":[]},{"def":"takeFromUpCar","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]}]}]},{"refName":"","description":"到产线上料口","category":"","seqGroup":"up","stages":[{"refName":"","description":"复位","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"SetLocationName","params":{"destination":"=transport.stages[1]","value":"=lineId + \"-IN\""},"returnName":null,"components":[]}]},{"refName":"","description":"到达上料口","forRoute":true,"operation":"Wait","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"path2","params":{"value":"1"},"returnName":null,"components":[]},{"def":"canPutOnMachine","params":{},"returnName":null,"components":[]},{"def":"putOnline","params":{},"returnName":null,"components":[]}]},{"refName":"","description":"释放资源","forRoute":false,"operation":"","location":"","properties":"[]","maxRetries":null,"retryDelay":null,"components":[{"def":"urge-reset","params":{},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-1"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-2"},"returnName":null,"components":[]},{"def":"UnlockSiteIfLocked","params":{"siteId":"AGV-01-3"},"returnName":null,"components":[]}]}]}],"static":false,"parallel":false,"noTransport":false}}